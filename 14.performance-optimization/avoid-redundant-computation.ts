// Given a function that calculates factorial recursively, optimize it using memoization to avoid redundant computations.
// Explain how the optimization affects performance and memory usage.